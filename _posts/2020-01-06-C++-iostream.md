---
title: "C++ 표준 라이브러리 - iostream"
excerpt: "C++이 라이브러리 차원에서 제공하는 기본적인 입출력 방법을 설명한다."

categories:
  - C++
tags:
  - C++
  - iostream
---

# iostream
## 1. 출력 스트림  
표준 출력 객체는 cout이며 라이브러리에 의해 이름이 이미 정해져 있다.  
cout은 인수로 전달된 출력 대상을 내부적인 변환 규칙에 따라 문자열로 변환하여 화면으로 출력한다. 예를 들어 정수 123은 문자열 "123"으로 실수 4.567은 "4.567"로 변환할 것이다. 만약 이런 내부적인 변환 규칙에 변화를 주고 싶다면 조정자(manipulator)를 사용한다. 조정자는 cout이 값을 출력하는 방식에 여러 가지 변화를 주는 역할을 한다.  

#### 정수 진법 변경  
```cpp
#include <Turboc.h>
#include <iostream>
using namespace std;

void main()
{
     int i = 1234;

     hex(cout);

     cout << i << endl;

     cout << "8진수 : " << oct << i << endl;
     cout << "16진수 : " << hex << i << endl;
     cout << "10진수 : " << dec << i << endl;
}
```
정수 i를 별다른 지정없이 cout << i;로 보내면 10진수로 출력되는데 8진수나 16진수로 바꿔서 출력할 수 있다.  
##### 예제 실행 결과
```
4d2
8진수 : 2322
16진수 : 4d2
10진수 : 1234
```

#### 각 조정자의 역할
```cpp
#include <Turboc.h>
#include <iostream>
using namespace std;

void main()
{
     int i=1234;
     double d=56.789;
     char *str="String";
     bool b=true;

     // bool형 출력 방식
     cout << b << endl;
     cout << boolalpha << b << endl;

     // 진법 접두 출력 및 대소문자
     cout << hex << i << endl;
     cout << showbase << i << endl;
     cout << uppercase << i << endl;

     // + 양수 기호 표시
     cout << dec << showpos << i << endl;
}
```
소스 내의 주석과 실행 결과를 보면 각 조정자의 역할을 쉽게 이해할 수 있을 것이다.  
##### 예제 실행 결과
```
1
true
4d2
0x4d2
0x4D2
+1234
```
**boolalpha** 조정자는 bool형의 변수를 1 또는 0으로 출력하지 않고 true, flase라는 문자열로 출력한다. **showbase** 조정자는 16진 표기시 0x라는 진법 표기를 붙이며 **uppercase**는 16진 표기에 사용되는 X와 A~F까지의 영문자를 대문자로 출력한다. **showpos**는 양수에 대해서도 +부호를 출력한다.


## 2. 입력 스트림
C++의 표준 입력 스트림은 cin 객체이다. cin 객체로 입력을 받아 >> 연산자(Extraction)로 대상 변수에 보내기만 하면 된다.  
#### cin
```cpp
#include <Turboc.h>
#include <iostream>
using namespace std;

void main()
{
     int i;
     char str[128];

     cin >> i;
     cout << i << endl;
     cin >> str;
     cout << str << endl;
}
```
예제를 실행하면 커서가 깜빡거리는데 순서대로 정수값과 문자열을 입력하면 된다. 입력된 값을 cout으로 그대로 화면으로 다시 출력해보았다. 실행 결과는 다음과 같다.
##### 실행 결과
```
1234
1234
abcdef
abcdef
```

### cin 입력 개체와 >> 연산자의 네가지 특징  

- 공백은 건너 뛰고 입력받는다.   
공백은 실제 입력받고자 하는 대상이 아니며 데이터의 구분을 위한 구분자로 삽입되는 경우가 많기 때문에 입력값의 일부라고 볼 수 없다. 그래서 앞쪽의 공백은 일단 건너뛰고 유효한 문자부터 읽기 시작한다.  
- 읽을 수 있는 유효한 입력까지만 읽으며 무효한 문자를 만나는 즉시 읽기를 중단한다.  
예를 들어 정수값을 읽는다면 숫자가 아닌 입력이 들어오면 즉시 읽기를 중지한다. 문자열의 경우도 공백이 입력되면 공백 이전까지만 읽는다. 즉 단어만 읽을 수 있다.  
- 앞 규칙에 의해 읽지 못한 데이터는 버퍼에 그대로 남겨지며 다음번 읽을 때 버퍼에 남아 있는 값이 읽혀진다.  
만약 버퍼에 저장된 값이 쓸모없는 값이라면 버퍼를 비운 후 다시 입력을 받아야 하는 번거로움이 있다.  
- 문자열의 경우 문자형 배열에 저장되는데 C에서와 마찬가지로 배열의 끝 점검은 하지 못한다.  
그래서 입력받을 데이터를 저장할만한 충분한 공간을 제공해야 한다.  


위 예제를 실행해 놓고 "  123abc"를 입력해 보면 cin과 >> 연산자의 모든 특성을 한꺼번에 테스트해 볼 수 있다. 123앞쪽에 일부러 공백 두 개를 입력해 보았다.

```
  123abc
123
abc
```
"  123abc"까지 입력하고 Enter를 누르는 순간 123과 abc가 화면으로 출력되면서 프로그램이 종료될 것이다.  
123 (**i**에 입력), abc (**str**에 입력)   
